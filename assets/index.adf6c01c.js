var ft=Object.defineProperty;var mt=(i,t,e)=>t in i?ft(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var r=(i,t,e)=>(mt(i,typeof t!="symbol"?t+"":t,e),e);import{o as Tt,c as yt,S as g,_ as J,A as _,a as h,s as Et,d as Z,z as vt,T as xt}from"./vendor.5ad2d900.js";const Nt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}};Nt();const It={whitespace:{regex:/([\s\r\n])/},text_node:{regex:/"[^"]+"/},reference_node:{regex:/\[\[[^\[^\]]+\]\]/},link_body:{regex:/--/},link_direction_left:{regex:/</},link_direction_right:{regex:/>/},link_options_start:{regex:/\(/},link_options_end:{regex:/\)/},link_option_delimiter:{regex:/,/},number:{regex:/[0-9]+/},math_operator:{regex:/[\+\-\/\*]/}};class nt{constructor(t=[]){r(this,"relationships");this.relationships=t}addRelationship(t){this.relationships.push(t)}removeRelationshipById(t){this.relationships=this.relationships.filter(e=>e.id()!==t)}getRelationshipById(t){return this.relationships.find(e=>e.id()===t)}getNodeList(){return this.relationships.map(t=>t.getNodes()).reduce((t,e)=>t.concat(e),[])}getLinkList(){return this.relationships.map(t=>t.link)}getNodeConnections(){return this.relationships.map(t=>({source:t.source,target:t.target}))}}const a={colorScale:Tt(yt),particle:{travelTime:1e3,radius:7,fill:"#000",textColor:"white",colors:{plus:"#009900",minus:"#ff3300",divide:"#cc0000",multiply:"#336600"}},link:{strokeWidth:1,strokeColor:"#808080",arrow:{width:10,height:10}},node:{weightToRadiusCoefficient:.5,fillColor:"#0284C7"},website:{startInput:`"Hello"--(-1)-->[[World]]
"Hello"--(-2)-->[[World2]]
[[World]]---->"Hello2"
"Hello2"--(+2)-->[[World2]]
"Hello2"---->"Hello"`,githubRepo:"AlexW00/Flow_Graph"}};class st{constructor(t,e){r(this,"linkDirection");r(this,"linkOptions");this.linkDirection=t,this.linkOptions=e}}class ot{constructor(t=new at,e=q.speed){r(this,"linkStrength");r(this,"linkSpeed");this.linkStrength=t,this.linkSpeed=lt(e)}}class at{constructor(t=q.strength,e=q.strengthType){r(this,"type");r(this,"strength");this.type=e,this.strength=lt(t)}}function lt(i){return typeof i==typeof String()?parseInt(i):i}function wt(i){switch(i){case"+":return 0;case"-":return 1;case"*":return 2;case"/":return 3;default:return 0}}function kt(i){switch(i){case 0:return"+";case 1:return"-";case 2:return"*";case 3:return"/";default:return"+"}}function Ct(i){switch(i){case 0:return a.particle.colors.plus;case 1:return a.particle.colors.minus;case 2:return a.particle.colors.multiply;case 3:return a.particle.colors.divide;default:return"black"}}function Lt(i,t,e){switch(e){case 0:return i+t;case 1:return i-t;case 2:return i*t;case 3:return i/t;default:return i+t}}var $=(i=>(i.LEFT="LEFT",i.RIGHT="RIGHT",i.LEFT_RIGHT="LEFT_RIGHT",i))($||{});let q={strength:5,strengthType:0,speed:1};class S{constructor(t,e){r(this,"type");r(this,"data");this.type=t,this.data=e,Object.freeze(this)}}class P{constructor(){r(this,"listener",{});this.listener={}}addEventListener(t,e){this.listener[t]===void 0&&(this.listener[t]=[]),this.listener[t].push(e)}removeEventListener(t,e){if(this.listener[t]!==void 0){for(let n=0;n<this.listener[t].length;n++)if(this.listener[t][n]===e){this.listener[t].splice(n,1);return}}}notifyAll(t){if(this.listener[t.type]!==void 0)for(let e=0;e<this.listener[t.type].length;e++)this.listener[t.type][e](t)}clear(){this.listener={}}}const X=class extends P{constructor(t){super();r(this,"_value");this._value=t}get value(){return this._value}set value(t){this._value=t,this.notifyAll(new S(X.EVENT_DATA_CHANGED,t))}};let w=X;r(w,"EVENT_DATA_CHANGED","dataChanged");const y=new P;new P;const x=class extends P{constructor(t,e){const n=x.findNodeById(x._generateId(t,e));if(n)return n;super();r(this,"name");r(this,"nodeType");r(this,"weight",100);this.name=t,this.nodeType=e}id(){return x._generateId(this.name,this.nodeType)}static _generateId(t,e){return t+"-"+e}static findNodeById(t){return x.nodes.find(e=>e.id()===t)}};let O=x;r(O,"nodes",[]);var K=(i=>(i.TEXT_NODE="TEXT_NODE",i.REFERENCE_NODE="REFERENCE_NODE",i))(K||{});class ct{constructor(t,e,n){r(this,"link");r(this,"source");r(this,"target");this.link=t,this.source=e,this.target=n}id(){return this.source.name+"-"+this.target.name}getNodes(){return[this.source,this.target]}getNodeConnection(){return{source:this.source,target:this.target}}}const G=(i,t)=>{const e=new g("LINK"),n=h("LINK_OPTIONS",i,!0),s=[];return n&&s.push(n.getAttribute("val")),e.addAttribute(new _("val",s,(...o)=>new st(t,o[0]?o[0].value():new ot))),e},Q=(i,t)=>{const e=new g("NODE"),n=t===K.TEXT_NODE?h("text_node",i):h("reference_node",i);return e.addAttribute(new _("val",[n.getAttribute("lex")],(...s)=>new O(s[0].value(),t))),e},St={GRAPH:{_:(...i)=>{const t=new g("GRAPH"),e=J("RELATIONSHIP",i).map(n=>n.getAttribute("val"));return t.addAttribute(new _("val",e,(...n)=>new nt(n.map(s=>s.value())))),t}},RELATIONSHIP:{_:(...i)=>{const t=new g("RELATIONSHIP"),e=J("NODE",i),n=h("LINK",i);return t.addAttribute(new _("val",[n.getAttribute("val"),e[0].getAttribute("val"),e[1].getAttribute("val")],(...s)=>new ct(s[0].value(),s[1].value(),s[2].value()))),t}},NODE:{text_node:(...i)=>Q(i,K.TEXT_NODE),reference_node:(...i)=>Q(i,K.REFERENCE_NODE)},LINK:{right:(...i)=>G(i,$.RIGHT),left:(...i)=>G(i,$.LEFT),left_right:(...i)=>G(i,$.LEFT_RIGHT)},LINK_OPTIONS:{_:(...i)=>{const t=new g("LINK_OPTIONS"),e=h("LINK_OPTION_STRENGTH",i),n=h("LINK_OPTION_SPEED",i,!0),s=[];return s.push(e.getAttribute("val")),n&&s.push(n.getAttribute("val")),t.addAttribute(new _("val",s,(...o)=>new ot(o[0].value(),o.length>1?o[1].value():void 0))),t}},LINK_OPTION_STRENGTH:{_:(...i)=>{const t=new g("LINK_OPTION_STRENGTH"),e=h("math_operator",i),n=h("number",i);return t.addAttribute(new _("val",[e.getAttribute("lex"),n.getAttribute("lex")],(...s)=>new at(s[1].value(),wt(s[0].value())))),t}},LINK_OPTION_SPEED:{_:(...i)=>{const t=new g("LINK_OPTION_SPEED"),e=h("number",i);return t.addAttribute(new _("val",[e.getAttribute("lex")],(...n)=>n[0].value())),t}}},Ot={GRAPH:{_:["RELATIONSHIP+"]},RELATIONSHIP:{_:["NODE","LINK","NODE"]},NODE:{text_node:["text_node"],reference_node:["reference_node"]},LINK:{right:["link_body","LINK_OPTIONS?","link_body","link_direction_right"],left:["link_direction_left","link_body","LINK_OPTIONS?","link_body"],left_right:["link_direction_left","link_body","LINK_OPTIONS?","link_body","link_direction_right"]},LINK_OPTIONS:{_:["link_options_start","LINK_OPTION_STRENGTH","LINK_OPTION_SPEED?","link_options_end"]},LINK_OPTION_STRENGTH:{_:["math_operator","number"]},LINK_OPTION_SPEED:{_:["link_option_delimiter","number"]}},bt={lexicalRuleset:It,semanticRuleset:St,syntaxRuleset:Ot},p=class{static updateChargeForceStrength(){var t,e;(e=(t=p.simulation)==null?void 0:t.force("charge"))==null||e.strength(p.chargeForceStrength)}static chargeForceStrength(t){return-Math.pow(t.weightToRadius(),2)*.2}static create(t){return p.simulation||(p.simulation=t.forceSimulation().force("x",t.forceX().x(function(){return T.width/2})).force("y",t.forceY().y(function(){return T.height/2})).force("charge",t.forceManyBody().strength(this.chargeForceStrength))),p.simulation}};let l=p;r(l,"simulation",null),r(l,"TICK_EVENT","d3_tick"),r(l,"isActive",!1);function tt(i){return{position:{x:i.x,y:i.y},radius:i.weightToRadius()}}function Rt(i,t){const e=dt(i.position,t.position),n=Pt(e),s=i.radius/n,o=t.radius/n,c={x:i.position.x+e.x*s,y:i.position.y+e.y*s},d={x:t.position.x-e.x*o,y:t.position.y-e.y*o};return[c,d]}function Pt(i){return Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}function dt(i,t){return{x:t.x-i.x,y:t.y-i.y}}const N=class{static init(t){try{const e=JSON.parse(t);e.nodeColor&&(N.nodeColor.value=e.nodeColor),e.linkColor&&(N.linkColor.value=e.linkColor)}catch(e){console.error(e)}}static exportString(){const t={nodeColor:N.nodeColor.value,linkColor:N.linkColor.value};return JSON.stringify(t)}};let u=N;r(u,"nodeColor",new w(a.node.fillColor)),r(u,"linkColor",new w(a.link.strokeColor));const Y=class extends st{constructor(t,e,n){super(e.linkDirection,e.linkOptions);r(this,"$selection");r(this,"$arrowHead");r(this,"nodeConnection");r(this,"path",{source:{x:0,y:0},target:{x:0,y:0}});r(this,"_onUpdateLinks",t=>{t.data.updatedNodeId===this.nodeConnection.target.id&&this.onTicked()});r(this,"onTicked",()=>{this._updatePath();try{this.$selection.attr("x1",t=>t.source.x).attr("y1",t=>t.source.y).attr("x2",t=>t.target.x).attr("y2",t=>t.target.y)}catch(t){console.trace(t),console.log(t,"SHIT")}});this.nodeConnection=n,this._append(t),y.addEventListener(l.TICK_EVENT,this.onTicked),y.addEventListener(Y.UPDATE_LINKS_EVENT,this._onUpdateLinks),u.linkColor.addEventListener(w.EVENT_DATA_CHANGED,s=>this._changeColor(s.data))}_changeColor(t){this.$selection.style("stroke",t),this.$arrowHead.style("fill",t)}_append(t){this.$arrowHead=this._appendArrowHead(t),this.$selection=t.append("g").attr("class","links").selectAll("line").data([this.path]).enter().append("line").style("stroke",a.link.strokeColor).style("stroke-width",a.link.strokeWidth).attr("marker-end",()=>"url(#arrow)")}_appendArrowHead(t){return t.append("svg:defs").append("svg:marker").attr("id","arrow").attr("viewBox","0 -5 10 10").attr("refX",a.link.arrow.height).attr("markerWidth",a.link.arrow.width).attr("markerHeight",a.link.arrow.height).attr("orient","auto").style("fill",u.linkColor.value).append("svg:path").attr("d","M0,-5L10,0L0,5")}_updatePath(){const t=Rt(tt(this.nodeConnection.source),tt(this.nodeConnection.target));this.path.source=t[0],this.path.target=t[1]}};let z=Y;r(z,"UPDATE_LINKS_EVENT","updateLinks");class At{constructor(t,e){r(this,"$selection");r(this,"radius");this.radius=e,this.$selection=this._append(t),u.nodeColor.addEventListener(w.EVENT_DATA_CHANGED,n=>this._changeColor(n.data))}_changeColor(t){this.$selection.attr("fill",t)}updateRadius(t){this.radius=t,this.$selection.attr("r",this.radius)}_append(t){return t.append("circle").attr("r",this.radius).attr("fill",u.nodeColor.value)}}class $t{constructor(t,e){r(this,"$selection");r(this,"radius");this.radius=e,this.$selection=this._append(t)}updateTextSize(t){this.$selection.attr("font-size",this._calculateFontSizeFromRadius(t))}_calculateFontSizeFromRadius(t){return t/4}_append(t){return t.append("text").text(function(e){return e.name}).attr("font-size",this._calculateFontSizeFromRadius(this.radius)).attr("text-anchor","middle").attr("dy",".35em").attr("x",0).attr("y",0)}}const L=class{static create(t,e){const n=(c,d)=>{c.active||e.alphaTarget(.3).restart(),d.fx=d.x,d.fy=d.y},s=(c,d)=>{d.fx=c.x,d.fy=c.y},o=(c,d)=>{c.active||e.alphaTarget(0),d.fx=null,d.fy=null};return L.dragHandler=t.drag().on("start",n).on("drag",s).on("end",o),L.dragHandler}static applyDragHandler(t){L.dragHandler(t)}};let b=L;r(b,"dragHandler",null);const f=class extends O{constructor(t,e){const n=f.findNodeById(t.id());if(n)return n;super(t.name,t.nodeType);r(this,"$selection");r(this,"d3_Circle");r(this,"d3_Label");r(this,"index");r(this,"x");r(this,"y");r(this,"vx");r(this,"vy");r(this,"fx");r(this,"fy");r(this,"_append",t=>t.append("g").attr("class","nodes").selectAll("g").data([this]).enter().append("g"));r(this,"onTicked",()=>{this.$selection.attr("transform",`translate(${this.x}, ${this.y})`)});this.$selection=this._append(e),this.d3_Circle=new At(this.$selection,this.weightToRadius()),this.d3_Label=new $t(this.$selection,this.weightToRadius()),y.addEventListener(l.TICK_EVENT,this.onTicked),b.applyDragHandler(this.$selection),this.$selection.on("click",()=>this.notifyAll(new S(f.EMIT_PARTICLE_EVENT,this))),f.d3Nodes.push(this)}weightToRadius(){return this.weight*a.node.weightToRadiusCoefficient}updateWeight(t){this.weight=Lt(this.weight,t.strength,t.type),this.d3_Circle.updateRadius(this.weightToRadius()),this.d3_Label.updateTextSize(this.weightToRadius()),this.notifyAll(new S(f.EMIT_PARTICLE_EVENT,this)),l.updateChargeForceStrength()}static findNodeById(t){return f.d3Nodes.find(e=>e.id()===t)}};let m=f;r(m,"d3Nodes",[]),r(m,"EMIT_PARTICLE_EVENT","emitParticle");const I=class extends P{constructor(t){super();r(this,"d3Relationship");r(this,"$selection");r(this,"$circle");r(this,"$text");r(this,"id");r(this,"radius",a.particle.radius);r(this,"creationTime",new Date().getTime());r(this,"travelTime");r(this,"travelVector");r(this,"index");r(this,"x");r(this,"y");r(this,"vx");r(this,"vy");r(this,"fx");r(this,"fy");r(this,"_update",()=>{const t=this._calcProgress();t>=1&&this._destroy();const e=this._calcPosition(t,this.d3Relationship.d3Link);this._updatePosition(e.x,e.y)});this.d3Relationship=t,this.id=t.id()+"-"+this.creationTime,this.travelTime=this._calcTravelTime(),this._setInitialPosition(t.d3Link),this.$selection=this._append(t.$selection),this.$circle=this._appendCircle(this.$selection,t.link.linkOptions.linkStrength.type),this.$text=this._appendText(this.$selection,t.link.linkOptions.linkStrength.type),y.addEventListener(l.TICK_EVENT,this._update),I.particles.push(this)}_appendText(t,e){return t.append("text").text(()=>kt(e)).attr("dy",".35em").attr("text-anchor","middle").attr("font-size","10px").attr("fill",a.particle.textColor).attr("x",n=>n.x).attr("y",n=>n.y)}_appendCircle(t,e){return t.append("circle").attr("cx",n=>n.x).attr("cy",n=>n.y).attr("r",a.particle.radius).attr("fill",Ct(e))}_append(t){return t.append("g").attr("class","particles").selectAll(".particles").data([this],e=>e.d3Relationship.id()).enter().append("g")}_calcTravelTime(){return a.particle.travelTime/this.d3Relationship.link.linkOptions.linkSpeed}_setInitialPosition(t){this.x=t.path.source.x,this.y=t.path.source.y}_calcProgress(){return(new Date().getTime()-this.creationTime)/this.travelTime}_updatePosition(t,e){this.x=t,this.y=e,this.$circle.transition().duration(0).attr("cx",this.x).attr("cy",this.y),this.$text.transition().duration(0).attr("x",this.x).attr("y",this.y)}_calcPosition(t,e){return this.travelVector=this._calcTravelVector(e),{x:e.path.source.x+this.travelVector.x*t,y:e.path.source.y+this.travelVector.y*t}}_calcTravelVector(t){return dt(t.path.source,t.path.target)}_destroy(){y.removeEventListener(l.TICK_EVENT,this._update),this._remove(),this.notifyAll(new S(I.PARTICLE_DESTROYED_EVENT,this)),I.particles.splice(I.particles.indexOf(this),1)}_remove(){this.$selection.remove()}};let E=I;r(E,"PARTICLE_DESTROYED_EVENT","particleDestroyed"),r(E,"PARTICLE_TICK_EVENT","particleTick"),r(E,"particles",[]);class Ht extends ct{constructor(t,e){super(t.link,t.source,t.target);r(this,"$selection");r(this,"d3Source");r(this,"d3Target");r(this,"d3Link");r(this,"d3Particles",[]);this.$selection=this._append(e),this.d3Source=new m(this.source,this.$selection),this.d3Source.addEventListener(m.EMIT_PARTICLE_EVENT,()=>this._emitParticle()),this.d3Target=new m(this.target,this.$selection),this.d3Link=new z(this.$selection,this.link,this.getD3NodeConnection())}_emitParticle(){const t=new E(this);t.addEventListener(E.PARTICLE_DESTROYED_EVENT,()=>this._onParticleDestroyed()),this.d3Particles.push(t)}_onParticleDestroyed(){this._removeOldestParticle(),this.d3Target.updateWeight(this.link.linkOptions.linkStrength)}_removeOldestParticle(){this.d3Particles.shift()}_append(t){return t.append("g").attr("class","relationship").selectAll("g").data([this]).enter().append("g")}getD3Nodes(){return[this.d3Source,this.d3Target]}getD3NodeConnection(){return{source:this.d3Source,target:this.d3Target}}}const F=class extends nt{constructor(t,e){super(t.relationships);r(this,"$doc");r(this,"$svg");r(this,"d3_color",a.colorScale);r(this,"d3Simulation");r(this,"d3DragHandler");r(this,"d3Relationships");r(this,"$selection");r(this,"zoomed",t=>{console.log("zoomed",t),this.$svg.attr("transform",()=>t.transform)});var o,c,d,j;this.$doc=e,this.$svg=Et(e.body).select("#svg"),F.width=(c=(o=this.$svg.node())==null?void 0:o.getBoundingClientRect().width)!=null?c:0,F.height=(j=(d=this.$svg.node())==null?void 0:d.getBoundingClientRect().height)!=null?j:0,this.d3Simulation=l.create(Z),this.d3DragHandler=b.create(Z,this.d3Simulation),this.$selection=this._append(this.$svg),console.log(this.$selection),this.d3Relationships=this.relationships.map(C=>new Ht(C,this.$selection));const n=this.d3Relationships.reduce((C,_t)=>[...C,..._t.getD3Nodes()],[]);l.simulation.nodes(n).on("tick",()=>{l.isActive=!0,y.notifyAll(new S(l.TICK_EVENT,{}))}),l.simulation.nodes(n).on("end",()=>{l.simulation.alphaTarget(.01).restart()});const s=vt().on("zoom",C=>this._onZoom(C));this.$svg.call(s).on("dblclick.zoom",null)}_onZoom(t){this.$selection.attr("transform",t.transform)}delete(){this.$svg.selectAll("*").remove(),l.simulation=null,b.dragHandler=null,y.clear(),m.d3Nodes=[],O.nodes=[]}_append(t){return t.append("g").attr("class","graph")}};let T=F;r(T,"width"),r(T,"height");const Dt={startSymbol:"GRAPH",ignoreTokensNamed:["whitespace"]},ut=new URL(window.location.href),et=ut.searchParams.get("settings");et&&u.init(et);var rt;let k=(rt=ut.searchParams.get("input"))!=null?rt:a.website.startInput;const W=new xt(bt,Dt);let B=W.compile(k),it=new T(B,document);const Kt=document.querySelector("#app"),Bt=document.querySelector("#svg"),Vt=document.querySelector("#settings_button"),Ft=document.querySelector("#settings_container");function Gt(){Ft.classList.toggle("invisible")}Vt.addEventListener("click",()=>Gt());const H=document.querySelector("#node_color"),D=document.querySelector("#link_color");H.value=u.nodeColor.value;D.value=u.linkColor.value;H==null||H.addEventListener("change",i=>{const t=i.target.value;u.nodeColor.value=t});D==null||D.addEventListener("change",i=>{const t=i.target.value;u.linkColor.value=t});Kt.appendChild(Bt);const qt=document.querySelector("#help_button");qt.addEventListener("click",()=>{window.open("https://github.com/"+a.website.githubRepo)});const zt=document.querySelector("#error_box"),Ut=document.querySelector("#error_message");function V(i,t){t&&(Ut.innerText=t),zt.classList.toggle("hidden",!i)}function A(i,t){const e=["bg-gray-500","hover:bg-gray-400","border-gray-700","hover:border-gray-500"],n=["bg-blue-500","hover:bg-blue-400","border-blue-700","hover:border-blue-500"];t.disabled=!i,i?(t.classList.remove(...e),t.classList.add(...n)):(t.classList.remove(...n),t.classList.add(...e))}const M=document.querySelector("#input");M.value=k;M.addEventListener("input",i=>{k=i.target.value;try{B=W.compile(k),V(!1,null),A(!0,U),A(!0,R)}catch(t){V(!0,t.message),A(!1,U),A(!1,R)}});const U=document.querySelector("#submit_button");U.addEventListener("click",()=>{const i=M.value;try{B=W.compile(i)}catch(t){V(!0,t.message);return}V(!1,null),it.delete(),it=new T(B,document)});const R=document.querySelector("#share_button"),v=document.querySelector("#share_popup"),ht=document.querySelector("#export_url_field"),pt=document.querySelector("#export_iframe_field"),Wt=document.querySelector("#export_url_copy_button"),Mt=document.querySelector("#export_iframe_copy_button");function gt(){v.classList.add("invisible")}Wt.addEventListener("click",()=>{console.log("copy");const i=ht.value;navigator.clipboard.writeText(i),gt()});Mt.addEventListener("click",()=>{console.log("copy");const i=pt.value;navigator.clipboard.writeText(i),gt()});function Xt(){const{left:i,top:t}=R.getBoundingClientRect(),e=R.offsetWidth,n=v.offsetHeight,s=v.offsetWidth;v.style.left=`${i-s/2+e/2}px`,v.style.top=`${t-n-10}px`}function Yt(){const i=`${window.location.href}?input=${encodeURIComponent(k)}&settings=${encodeURIComponent(u.exportString())}`;console.log(i),ht.value=i}function jt(){console.log(u.exportString());const i=`${window.location.href}?input=${encodeURIComponent(k)}&settings=${encodeURIComponent(u.exportString())}&iframe=true`;pt.value=`<iframe src="${i}" width="100%" height="100%" frameborder="0"></iframe>`}function Jt(){Yt(),jt()}function Zt(){Xt(),v.classList.toggle("invisible")||Jt()}R.addEventListener("click",()=>Zt());
